{
  "run_id": "ablation_no_contr_loto_holdout_overwrite",
  "config_hash": "80a465de321e1bc6537263f88076a1db7926fe965b12f6b8c4717593cda6a657",
  "metrics": {
    "task_curves": [
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 36.50335552309812,
        "score": 0.027394741816741557
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 36.50335552309812,
        "score": 0.027394741816741557
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 36.50335552309812,
        "score": 0.027394741816741557
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 36.50335552309812,
        "score": 0.027394741816741557
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 36.50335552309812,
        "score": 0.027394741816741557
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 37.17992229290612,
        "score": 0.026896236956116464
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "no_defense",
        "value": 36.71204388893507,
        "score": 0.02723901733788779
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "reset_clear",
        "value": 37.556542662428654,
        "score": 0.026626519085858086
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "smoothing",
        "value": 36.81315310417892,
        "score": 0.027164203978128753
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "masking_dropout",
        "value": 36.923402402430604,
        "score": 0.027083094594071638
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "clipping_renorm",
        "value": 69.06310849663751,
        "score": 0.014479510432819385
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "cachemedic",
        "value": 37.384999921282244,
        "score": 0.02674869605739193
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 36.738489253167344,
        "score": 0.027219409952024272
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 37.61142185227762,
        "score": 0.026587668074012027
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 36.80358178013899,
        "score": 0.027171268437238053
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 36.973288647661455,
        "score": 0.027046552702669837
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 67.70759256644041,
        "score": 0.014769392354612453
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 37.275981883153435,
        "score": 0.026826925797277027
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 36.74583856784272,
        "score": 0.02721396596117219
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 37.628729163583415,
        "score": 0.02657543909210165
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 36.753556930545194,
        "score": 0.02720825094261608
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 36.928572661107644,
        "score": 0.027079302771243523
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 68.02796633544536,
        "score": 0.014699836756386454
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 37.38649553066421,
        "score": 0.02674762600254429
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 0.7675,
        "score": 0.7675
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "no_defense",
        "value": 0.7075,
        "score": 0.7075
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "reset_clear",
        "value": 0.7025,
        "score": 0.7025
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "smoothing",
        "value": 0.715,
        "score": 0.715
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "masking_dropout",
        "value": 0.705,
        "score": 0.705
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "clipping_renorm",
        "value": 0.685,
        "score": 0.685
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "cachemedic",
        "value": 0.775,
        "score": 0.775
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 0.7075,
        "score": 0.7075
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 0.7075,
        "score": 0.7075
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 0.715,
        "score": 0.715
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 0.72,
        "score": 0.72
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 0.685,
        "score": 0.685
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 0.7725,
        "score": 0.7725
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 0.7125,
        "score": 0.7125
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 0.69,
        "score": 0.69
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 0.735,
        "score": 0.735
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 0.725,
        "score": 0.725
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 0.66,
        "score": 0.66
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 0.775,
        "score": 0.775
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.04,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "contiguous_overwrite",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      }
    ],
    "clean_metrics": {
      "wikitext2_ppl": {
        "no_defense": 36.50335552309812,
        "reset_clear": 36.50335552309812,
        "smoothing": 36.50335552309812,
        "masking_dropout": 36.50335552309812,
        "clipping_renorm": 36.50335552309812,
        "cachemedic": 37.17992229290612
      },
      "sst2_prompted": {
        "no_defense": 0.7,
        "reset_clear": 0.7,
        "smoothing": 0.7,
        "masking_dropout": 0.7,
        "clipping_renorm": 0.7,
        "cachemedic": 0.7675
      },
      "needle_long_context": {
        "no_defense": 0.0,
        "reset_clear": 0.0,
        "smoothing": 0.0,
        "masking_dropout": 0.0,
        "clipping_renorm": 0.0,
        "cachemedic": 0.0
      }
    },
    "score_vs_eps": {
      "eps": [
        0.0,
        0.04,
        0.08,
        0.16
      ],
      "no_defense": [
        0.2424649139389138,
        0.24491300577929595,
        0.2449064699840081,
        0.24657132198705742
      ],
      "best_heuristic": [
        0.2424649139389138,
        0.2473880679927096,
        0.24739042281241266,
        0.254069416980872
      ],
      "cachemedic": [
        0.2647987456520388,
        0.26724956535246397,
        0.26644230859909235,
        0.2672492086675148
      ]
    },
    "best_heuristic_name": "smoothing",
    "heuristic_auc": {
      "reset_clear": 0.03880707774929798,
      "smoothing": 0.0397510230464663,
      "masking_dropout": 0.03957906129770254,
      "clipping_renorm": 0.037167077421726605
    },
    "robustness_auc": {
      "no_defense": 0.03920305958847291,
      "best_heuristic": 0.0397510230464663,
      "cachemedic": 0.04266246438978547
    },
    "clean_regression": {
      "no_defense": 0.2424649139389138,
      "best_heuristic": 0.2424649139389138,
      "cachemedic": 0.2647987456520388
    },
    "overhead": {
      "no_defense": {
        "tokens_per_sec": 2773.0373428757293,
        "wall_time_sec": 93.3164498000042,
        "gpu_mem_gb": 0.8088498115539551
      },
      "best_heuristic": {
        "tokens_per_sec": 1292.7642034672199,
        "wall_time_sec": 200.16798059999928,
        "gpu_mem_gb": 0.8088498115539551
      },
      "cachemedic": {
        "tokens_per_sec": 2576.9341694660984,
        "wall_time_sec": 100.41777669998191,
        "gpu_mem_gb": 0.8088498115539551
      }
    }
  },
  "settings": {
    "tasks": [
      {
        "name": "wikitext2_ppl",
        "num_examples": 600
      },
      {
        "name": "sst2_prompted",
        "num_examples": 400
      },
      {
        "name": "needle_long_context",
        "num_examples": 120
      }
    ],
    "eps": [
      0.0,
      0.04,
      0.08,
      0.16
    ],
    "types": [
      "contiguous_overwrite"
    ],
    "ood_protocol": "loto_holdout_contiguous_overwrite",
    "checkpoint_loaded": true
  }
}
