{
  "run_id": "t10_orth_seed1234_contr",
  "config_hash": "1fb249d87a1061a90505fa8140af2901ebe7d9c36ee037d920c8a7055d96fd0e",
  "metrics": {
    "task_curves": [
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 35.88037067868762,
        "score": 0.027870392113702003
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 37.49058866576617,
        "score": 0.0266733608510429
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 36.39660289031911,
        "score": 0.027475091645599248
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 37.319267831225694,
        "score": 0.02679580972816627
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 37.45872056311806,
        "score": 0.026696053281237864
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 38.84918103763387,
        "score": 0.02574056835409948
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 37.96253035609902,
        "score": 0.0263417635921453
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 37.84180311142564,
        "score": 0.02642580209657262
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 36.33150046989651,
        "score": 0.02752432426589643
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 37.523603503238625,
        "score": 0.026649892511354648
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 37.65202148809465,
        "score": 0.0265589989721055
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 38.72996748496579,
        "score": 0.025819799626430884
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 37.818380828698935,
        "score": 0.02644216854575482
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 0.696,
        "score": 0.696
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 0.704,
        "score": 0.704
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 0.696,
        "score": 0.696
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 0.728,
        "score": 0.728
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 0.688,
        "score": 0.688
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 0.724,
        "score": 0.724
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 0.692,
        "score": 0.692
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 0.7,
        "score": 0.7
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 0.696,
        "score": 0.696
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      }
    ],
    "clean_metrics": {
      "wikitext2_ppl": {
        "no_defense": 35.72999852598916,
        "reset_clear": 35.72999852598916,
        "smoothing": 35.72999852598916,
        "masking_dropout": 35.72999852598916,
        "clipping_renorm": 35.72999852598916,
        "cachemedic": 35.88037067868762
      },
      "sst2_prompted": {
        "no_defense": 0.684,
        "reset_clear": 0.684,
        "smoothing": 0.684,
        "masking_dropout": 0.684,
        "clipping_renorm": 0.684,
        "cachemedic": 0.696
      },
      "needle_long_context": {
        "no_defense": 0.0,
        "reset_clear": 0.0,
        "smoothing": 0.0,
        "masking_dropout": 0.0,
        "clipping_renorm": 0.0,
        "cachemedic": 0.0
      }
    },
    "score_vs_eps": {
      "eps": [
        0.0,
        0.08,
        0.16
      ],
      "no_defense": [
        0.23732922885767474,
        0.2435577869503476,
        0.25014193403219087
      ],
      "best_heuristic": [
        0.23732922885767474,
        0.25156535109374595,
        0.2421863329907018
      ],
      "cachemedic": [
        0.2412901307045673,
        0.24211392119738176,
        0.24081405618191823
      ]
    },
    "best_heuristic_name": "masking_dropout",
    "heuristic_auc": {
      "reset_clear": 0.038379495921734924,
      "smoothing": 0.038136389313876154,
      "masking_dropout": 0.039305850561434735,
      "clipping_renorm": 0.037990514972102055
    },
    "robustness_auc": {
      "no_defense": 0.03898346947162243,
      "best_heuristic": 0.039305850561434735,
      "cachemedic": 0.03865328117124996
    },
    "clean_regression": {
      "no_defense": 0.23732922885767474,
      "best_heuristic": 0.23732922885767474,
      "cachemedic": 0.2412901307045673
    },
    "overhead": {
      "no_defense": {
        "tokens_per_sec": 2884.8177311884283,
        "wall_time_sec": 48.05017609999777,
        "gpu_mem_gb": 0.7909998893737793
      },
      "best_heuristic": {
        "tokens_per_sec": 2699.005967060625,
        "wall_time_sec": 51.35816730000079,
        "gpu_mem_gb": 0.7909998893737793
      },
      "cachemedic": {
        "tokens_per_sec": 2854.2211509539347,
        "wall_time_sec": 48.56526270000904,
        "gpu_mem_gb": 0.7909998893737793
      }
    }
  },
  "settings": {
    "tasks": [
      {
        "name": "wikitext2_ppl",
        "num_examples": 400
      },
      {
        "name": "sst2_prompted",
        "num_examples": 250
      },
      {
        "name": "needle_long_context",
        "num_examples": 80
      }
    ],
    "eps": [
      0.0,
      0.08,
      0.16
    ],
    "types": [
      "orthogonal_rotation"
    ],
    "ood_protocol": "loto_holdout_orthogonal_rotation",
    "checkpoint_loaded": true
  }
}
