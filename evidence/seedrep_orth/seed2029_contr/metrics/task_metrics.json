{
  "run_id": "t10_orth_seed2029_contr",
  "config_hash": "20e19e6e27f3bb33de8390ec82acd4ee6f52619a3ec9d27a711bbb3577ff53e8",
  "metrics": {
    "task_curves": [
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 35.72999852598916,
        "score": 0.027987686573024164
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 35.63936008555293,
        "score": 0.028058865187239105
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 37.654268497999865,
        "score": 0.026557414069884756
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 36.42213311986682,
        "score": 0.027455832878018335
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 37.39562350758432,
        "score": 0.026741097117880305
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 37.67000132252324,
        "score": 0.026546322402226485
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 38.99260542369964,
        "score": 0.025645888217364455
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 37.57051771695511,
        "score": 0.026616614855661476
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 37.65763926429359,
        "score": 0.026555036893886892
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 36.40855098194359,
        "score": 0.027466075222162472
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 37.37610173814365,
        "score": 0.026755064158535936
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 37.6924881898849,
        "score": 0.0265304851980655
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 38.713791967024626,
        "score": 0.02583058773606505
      },
      {
        "task": "wikitext2_ppl",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 37.67267093591672,
        "score": 0.026544441239673578
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 0.684,
        "score": 0.684
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 0.716,
        "score": 0.716
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 0.692,
        "score": 0.692
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 0.712,
        "score": 0.712
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 0.668,
        "score": 0.668
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 0.736,
        "score": 0.736
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 0.664,
        "score": 0.664
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 0.716,
        "score": 0.716
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 0.688,
        "score": 0.688
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 0.692,
        "score": 0.692
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 0.672,
        "score": 0.672
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 0.68,
        "score": 0.68
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 0.68,
        "score": 0.68
      },
      {
        "task": "sst2_prompted",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 0.724,
        "score": 0.724
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.0,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.08,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "no_defense",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "reset_clear",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "smoothing",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "masking_dropout",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "clipping_renorm",
        "value": 0.0,
        "score": 0.0
      },
      {
        "task": "needle_long_context",
        "corruption_type": "orthogonal_rotation",
        "epsilon": 0.16,
        "defense": "cachemedic",
        "value": 0.0,
        "score": 0.0
      }
    ],
    "clean_metrics": {
      "wikitext2_ppl": {
        "no_defense": 35.72999852598916,
        "reset_clear": 35.72999852598916,
        "smoothing": 35.72999852598916,
        "masking_dropout": 35.72999852598916,
        "clipping_renorm": 35.72999852598916,
        "cachemedic": 35.63936008555293
      },
      "sst2_prompted": {
        "no_defense": 0.684,
        "reset_clear": 0.684,
        "smoothing": 0.684,
        "masking_dropout": 0.684,
        "clipping_renorm": 0.684,
        "cachemedic": 0.716
      },
      "needle_long_context": {
        "no_defense": 0.0,
        "reset_clear": 0.0,
        "smoothing": 0.0,
        "masking_dropout": 0.0,
        "clipping_renorm": 0.0,
        "cachemedic": 0.0
      }
    },
    "score_vs_eps": {
      "eps": [
        0.0,
        0.08,
        0.16
      ],
      "no_defense": [
        0.23732922885767474,
        0.23951913802329491,
        0.2381850122979623
      ],
      "best_heuristic": [
        0.23732922885767474,
        0.2541821074674088,
        0.23551016173268854
      ],
      "cachemedic": [
        0.24801962172907968,
        0.2475388716185538,
        0.2501814804132245
      ]
    },
    "best_heuristic_name": "masking_dropout",
    "heuristic_auc": {
      "reset_clear": 0.03880487236734965,
      "smoothing": 0.03733633259956427,
      "masking_dropout": 0.03924814422100724,
      "clipping_renorm": 0.03729480067658425
    },
    "robustness_auc": {
      "no_defense": 0.038182100688089075,
      "best_heuristic": 0.03924814422100724,
      "cachemedic": 0.03973115381517647
    },
    "clean_regression": {
      "no_defense": 0.23732922885767474,
      "best_heuristic": 0.23732922885767474,
      "cachemedic": 0.24801962172907968
    },
    "overhead": {
      "no_defense": {
        "tokens_per_sec": 3009.21463218935,
        "wall_time_sec": 46.06384620001336,
        "gpu_mem_gb": 0.843782901763916
      },
      "best_heuristic": {
        "tokens_per_sec": 2923.795568068936,
        "wall_time_sec": 47.409607399997185,
        "gpu_mem_gb": 0.843782901763916
      },
      "cachemedic": {
        "tokens_per_sec": 2937.6634122438263,
        "wall_time_sec": 47.18580059998203,
        "gpu_mem_gb": 0.843782901763916
      }
    }
  },
  "settings": {
    "tasks": [
      {
        "name": "wikitext2_ppl",
        "num_examples": 400
      },
      {
        "name": "sst2_prompted",
        "num_examples": 250
      },
      {
        "name": "needle_long_context",
        "num_examples": 80
      }
    ],
    "eps": [
      0.0,
      0.08,
      0.16
    ],
    "types": [
      "orthogonal_rotation"
    ],
    "ood_protocol": "loto_holdout_orthogonal_rotation",
    "checkpoint_loaded": true
  }
}
